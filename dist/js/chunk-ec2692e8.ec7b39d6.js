(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-ec2692e8"],{"0465":function(t,e,a){},"04e1":function(t,e,a){"use strict";var s=a("7afa");function n(t){this.message=t}n.prototype=new Error,n.prototype.name="InvalidTokenError",t.exports=function(t,e){if("string"!==typeof t)throw new n("Invalid token specified");e=e||{};var a=!0===e.header?0:1;try{return JSON.parse(s(t.split(".")[a]))}catch(r){throw new n("Invalid token specified: "+r.message)}},t.exports.InvalidTokenError=n},"05bd":function(t,e,a){"use strict";var s=a("0465"),n=a.n(s);n.a},"08e3":function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},n=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"spinner-border text-danger ",attrs:{role:"status"}},[a("span",{staticClass:"sr-only"},[t._v("Loading...")])])}],r={name:"PendingApiCall"},i=r,o=a("2877"),c=Object(o["a"])(i,s,n,!1,null,null,null);e["a"]=c.exports},"136d":function(t,e,a){},"159b":function(t,e,a){var s=a("da84"),n=a("fdbc"),r=a("17c2"),i=a("9112");for(var o in n){var c=s[o],l=c&&c.prototype;if(l&&l.forEach!==r)try{i(l,"forEach",r)}catch(d){l.forEach=r}}},"17c2":function(t,e,a){"use strict";var s=a("b727").forEach,n=a("a640"),r=a("ae40"),i=n("forEach"),o=r("forEach");t.exports=i&&o?[].forEach:function(t){return s(this,t,arguments.length>1?arguments[1]:void 0)}},2386:function(t,e,a){},"23bd":function(t,e,a){"use strict";var s=a("2791"),n=a.n(s);n.a},2791:function(t,e,a){},"359d":function(t,e,a){"use strict";var s=a("136d"),n=a.n(s);n.a},4160:function(t,e,a){"use strict";var s=a("23e7"),n=a("17c2");s({target:"Array",proto:!0,forced:[].forEach!=n},{forEach:n})},"464e":function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("nav",{staticClass:"navbar navbar-expand-lg  pl-5"},[a("router-link",{staticClass:"navbar-brand",attrs:{to:"/"}},[t._v(" eCommerce ")]),t._m(0),t.credentials?t._e():a("NormalRightMenu"),t.credentials?a("IfLoginRightMenu",{attrs:{user:t.credentials}}):t._e()],1)},n=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("button",{staticClass:"navbar-toggler",attrs:{type:"button","data-toggle":"collapse","data-target":"#navbarSupportedContent"}},[a("span",{staticClass:"navbar-toggler-icon"})])}],r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"collapse navbar-collapse float-right mr-5",attrs:{id:"navbarSupportedContent"}},[a("ul",{staticClass:"navbar-nav ml-auto"},[a("li",{staticClass:"nav-item"},[a("router-link",{staticClass:"nav-link",attrs:{to:"/login"}},[t._v("Login")])],1),a("li",{staticClass:"nav-item"},[a("router-link",{staticClass:"nav-link",attrs:{to:"/register"}},[t._v("Register")])],1)])])},i=[],o={},c=o,l=a("2877"),d=Object(l["a"])(c,r,i,!1,null,null,null),u=d.exports,p=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"collapse navbar-collapse float-right mr-5",attrs:{id:"navbarSupportedContent"}},[a("ul",{staticClass:"navbar-nav ml-auto "},[a("li",{staticClass:"nav-link"},[a("router-link",{staticClass:"account",attrs:{to:"/my-account"}},[a("span",[t._v("My Account")])])],1),a("li",{staticClass:"nav-link mr-5"},[a("span",{on:{click:t.logout}},[t._v("Log out")])]),a("li",{staticClass:"nav-item "},[a("router-link",{staticClass:"nav-link",attrs:{to:"/cart"}},[a("i",{staticClass:"fa fa-shopping-cart"}),a("span",{staticClass:"w-length ml-2"},[t._v(t._s(t.cartsLength))])])],1)])])},v=[],f={name:"IfLoginRightMenu",computed:{cartsLength:function(){return this.$store.getters.getCarts.length}},props:{user:Object},methods:{logout:function(){location.reload(),this.$store.dispatch("logout")}}},h=f,m=(a("23bd"),Object(l["a"])(h,p,v,!1,null,null,null)),C=m.exports,g={name:"TopBar",components:{NormalRightMenu:u,IfLoginRightMenu:C},created:function(){this.$store.commit("initCart")},computed:{credentials:function(){return this.$store.getters.getUser}}},b=g,_=(a("6487"),Object(l["a"])(b,s,n,!1,null,null,null));e["a"]=_.exports},6487:function(t,e,a){"use strict";var s=a("8948"),n=a.n(s);n.a},6676:function(t,e,a){},"7afa":function(t,e,a){var s=a("9b81");function n(t){return decodeURIComponent(s(t).replace(/(.)/g,(function(t,e){var a=e.charCodeAt(0).toString(16).toUpperCase();return a.length<2&&(a="0"+a),"%"+a})))}t.exports=function(t){var e=t.replace(/-/g,"+").replace(/_/g,"/");switch(e.length%4){case 0:break;case 2:e+="==";break;case 3:e+="=";break;default:throw"Illegal base64url string!"}try{return n(e)}catch(a){return s(e)}}},"839c":function(t,e,a){"use strict";var s=a("2386"),n=a.n(s);n.a},8948:function(t,e,a){},"9b81":function(t,e){var a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function s(t){this.message=t}function n(t){var e=String(t).replace(/=+$/,"");if(e.length%4==1)throw new s("'atob' failed: The string to be decoded is not correctly encoded.");for(var n,r,i=0,o=0,c="";r=e.charAt(o++);~r&&(n=i%4?64*n+r:r,i++%4)?c+=String.fromCharCode(255&n>>(-2*i&6)):0)r=a.indexOf(r);return c}s.prototype=new Error,s.prototype.name="InvalidCharacterError",t.exports="undefined"!==typeof window&&window.atob&&window.atob.bind(window)||n},a640:function(t,e,a){"use strict";var s=a("d039");t.exports=function(t,e){var a=[][t];return!!a&&s((function(){a.call(null,e||function(){throw 1},1)}))}},d537:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"checkout"},[a("Topbar"),a("h4",{staticClass:"text-center mt-2"},[t._v("Checkout")]),a("div",{staticClass:"row container mt-4"},[a("div",{staticClass:"col-xl-6 col-md-6 mx-auto"},[a("AddressSection",{attrs:{currentAddress:t.currentAddress,onClickAddress:t.onClickAddress,onClickRadio:t.onClickRadio}})],1),a("div",{staticClass:"col-xl-4 col-md-6 mb-5"},[a("Summary",{attrs:{currentAddress:t.currentAddress,onClickRadio:t.onClickRadio}})],1)])],1)},n=[],r=a("464e"),i=a("04e1"),o=a.n(i),c=function(){var t=this,e=this,a=e.$createElement,s=e._self._c||a;return s("div",{staticClass:"mx-auto"},[s("div",{staticClass:"card pl-4 pr-5 pt-2 pb-4"},[s("table",[e._m(0),s("tbody",e._l(e.addresses.filter((function(t){return!0!==t.isDeleted})),(function(t){return s("tr",{key:t.id},[s("th",[s("input",{attrs:{type:"radio",name:"shipAddress"},domProps:{value:t.id},on:{click:function(a){return e.onClickRadioAddress(t)}}})]),s("th",{staticClass:"pr-3"},[e._v(e._s(t.address1))]),s("th",{staticClass:"pr-3"},[e._v(e._s(t.phone))]),s("th",[e._v(e._s(t.city))])])})),0)]),s("div",{directives:[{name:"show",rawName:"v-show",value:e.pendingApiCall,expression:"pendingApiCall "}],staticClass:"text-center"},[s("PendingApiCall")],1),s("div",{directives:[{name:"show",rawName:"v-show",value:e.isFound,expression:"isFound"}],staticClass:"alert alert-danger text-center"},[s("span",[e._v("Not Found")])]),s("div")]),s("button",{staticClass:"btn btn-address btn-sm mt-2 mb-3",on:{click:function(){return t.$router.push("add-address")}}},[e._v("New Address")]),e.onClickRadio?s("button",{staticClass:"btn btn-pay btn-sm mt-2 ml-2",on:{click:function(t){e.paymentSection=!0}}},[s("i",{staticClass:"fa fa-credit-card"}),e._v(" Pay ")]):e._e(),e.paymentSection?s("PaymentModal",{attrs:{currentAddress:e.currentAddress}}):e._e()],1)},l=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",{staticClass:"head mt-2"},[a("th",{staticClass:"p-3"},[a("i",{staticClass:"fa fa-check-circle"})]),a("th",[t._v("Address")]),a("th",[t._v("Phone")]),a("th",[t._v("Location")])])])}],d=a("bc3a"),u=a.n(d),p=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal"},[a("div",{staticClass:"container w-50"},[a("div",{staticClass:"modal-content p-5"},[a("div",{directives:[{name:"show",rawName:"v-show",value:t.pendingApiCall,expression:"pendingApiCall"}],staticClass:"text-center"},[a("PendingApiCall")],1),a("h3",{staticClass:"modal-title text-center"},[t._v("Payment Details")]),a("hr"),t._m(0),a("br"),a("button",{staticClass:"btn btn-pay",on:{click:t.payment}},[t._v("Pay")])])])])},v=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"panel-body modal-body"},[a("form",{attrs:{role:"form"}},[a("div",{staticClass:"form-group pb-2"},[a("label",{attrs:{for:"cardNumber"}},[t._v("CARD NUMBER")]),a("div",{staticClass:"input-group"},[a("input",{staticClass:"form-control",attrs:{type:"text",id:"cardNumber",placeholder:"Valid Card Number",required:"",autofocus:""}}),a("span",{staticClass:"input-group-addon"},[a("span",{staticClass:"glyphicon glyphicon-lock"})])])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-xs-7 col-md-7"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"expityMonth"}},[t._v("EXPIRY DATE")]),a("div",{staticClass:"col-xs-6 col-lg-6 pl-ziro"},[a("input",{staticClass:"form-control",attrs:{type:"text",id:"expityMonth",placeholder:"MM",required:""}})]),a("div",{staticClass:"col-xs-6 col-lg-6 pl-ziro"},[a("input",{staticClass:"form-control",attrs:{type:"text",id:"expityYear",placeholder:"YY",required:""}})])])]),a("div",{staticClass:"col-xs-5 col-md-5 pull-right"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"cvCode"}},[t._v("CV CODE")]),a("input",{staticClass:"form-control",attrs:{type:"password",id:"cvCode",placeholder:"CV",required:""}})])])])])])}],f=a("08e3"),h={data:function(){return{pendingApiCall:!1}},props:{currentAddress:Object},components:{PendingApiCall:f["a"]},methods:{payment:function(){var t=this;this.pendingApiCall=!0;var e=localStorage.getItem("Id");u.a.post("https://abc-app-api.azurewebsites.net/api/payments/"+e).then((function(){t.onClickPay=!1;var a={UserId:e,AddressId:t.currentAddress.id};u.a.post("https://abc-app-api.azurewebsites.net/api/orders",a).then((function(){t.pendingApiCall=!1,t.onClickPay=!1,t.$router.push("/orders"),t.$store.commit("emptyCart")}))})).catch((function(e){console.log(e),t.onClickPay=!1}))}}},m=h,C=(a("839c"),a("2877")),g=Object(C["a"])(m,p,v,!1,null,null,null),b=g.exports,_={name:"AddressSection",components:{PaymentModal:b,PendingApiCall:f["a"]},data:function(){return{addresses:[],isFound:!1,paymentSection:!1,onClickPay:!1,pendingApiCall:!0}},props:{currentAddress:Object,onClickAddress:{type:Function},onClickRadio:Boolean},mounted:function(){this.fetchAddresses()},methods:{fetchAddresses:function(){var t=this,e=localStorage.getItem("token");u.a.get("https://abc-app-api.azurewebsites.net/api/users/address",{headers:{Authorization:"Bearer "+e}}).then((function(e){t.addresses=e.data,t.pendingApiCall=!1})).catch((function(){t.isFound=!0,t.pendingApiCall=!1}))},onClickRadioAddress:function(t){this.onClickAddress(t)},payment:function(){}}},y=_,k=(a("359d"),Object(C["a"])(y,c,l,!1,null,null,null)),A=k.exports,w=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"card mx-auto"},[a("div",{staticClass:"card-body"},[t._m(0),a("hr"),a("div",[a("span",{staticClass:"c-title"},[t._v("Your Items")]),t._l(t.carts,(function(e){return a("ul",{key:e.id,staticClass:"mt-2"},[a("li",[t._v(t._s(e.quantity)+" "+t._s(e.productDetail.product.name)+" $"+t._s(e.productDetail.product.price))])])}))],2),a("hr"),a("div",[a("span",{staticClass:"c-title"},[t._v("Delivery Address")]),a("p",{directives:[{name:"show",rawName:"v-show",value:!t.onClickRadio,expression:"!onClickRadio"}]},[t._v("Please select an address to ship")]),a("p",[t._v(t._s(t.currentAddress.address1)+" "+t._s(t.currentAddress.city)+" "+t._s(t.currentAddress.postCode))])]),a("hr"),t._m(1),a("hr"),a("div",[a("div",{staticClass:"float-left c-title"},[t._v("Total Paid")]),a("div",{staticClass:"float-right c-title"},[t._v("$"+t._s(t.totalAmount))])])])])},x=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"pb-4"},[a("div",{staticClass:"card-title float-left"},[t._v("1")]),a("div",{staticClass:"card-title float-right"},[a("i",{staticClass:"fa fa-shopping-bag"})])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("span",{staticClass:"c-title"},[t._v("Payment Method")]),a("p",{staticClass:"ml-3 mt-2"},[a("i",{staticClass:"fa fa-credit-card"}),t._v("Stripe ")])])}],E=(a("4160"),a("159b"),{name:"Summary",props:{currentAddress:Object,onClickRadio:Boolean},created:function(){var t=localStorage.getItem("token");0===this.carts.length&&t&&this.$router.push("/products")},computed:{carts:function(){return this.$store.getters.getCarts},totalAmount:function(){var t=0;return this.carts.forEach((function(e){t+=e.productDetail.product.price*e.quantity})),t}}}),$=E,R=(a("05bd"),Object(C["a"])($,w,x,!1,null,null,null)),S=R.exports,P={name:"Checkout",data:function(){return{currentAddress:{},onClickRadio:!1}},created:function(){var t,e=localStorage.getItem("token");null!==e&&(t=o()(e)),null!=e&&t.email||this.$router.push("/products")},components:{Topbar:r["a"],AddressSection:A,Summary:S},methods:{onClickAddress:function(t){this.onClickRadio=!0,this.currentAddress=t}}},I=P,O=(a("d677"),Object(C["a"])(I,s,n,!1,null,null,null));e["default"]=O.exports},d677:function(t,e,a){"use strict";var s=a("6676"),n=a.n(s);n.a}}]);
//# sourceMappingURL=chunk-ec2692e8.ec7b39d6.js.map